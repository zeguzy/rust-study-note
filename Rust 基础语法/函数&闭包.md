# 函数&闭包

## 函数

函数是 Rust 编程的基本构建块。它们用于封装可重用的代码块，可以接受参数并返回值。

### 定义函数

- 使用 fn 关键字来定义函数。
- 函数可以接受参数，参数类型必须被指定。
- 函数可以返回值，返回类型在箭头（->）后指定。

```rust
fn greet(name: &str) -> String {
    format!("Hello, {}!", name)
}

fn main() {
    let greeting = greet("Alice");
    println!("{}", greeting);
}
```

### 函数返回值

- 通常情况下需要明确指定返回类型
- 不返回值的函数 返回值类型是（）,不需要显式指定返回类型，因为 Rust 会自动推断出来。
- 表达式作为返回值,Rust 会自动推断返回类型。
- 即使函数不返回任何值，仍然可以使用 return 关键字来提前退出函数。但是，在这种情况下，函数的返回类型应该是()。

## 闭包

闭包（Closures）是 Rust 中一种特殊的函数，它们可以捕获其环境中的变量，并在函数外部使用。

### 定义闭包

- 使用 || 符号来定义闭包。
- 闭包可以自动推断参数类型和返回类型。

- 闭包的特点
  - 闭包可以捕获外部环境的变量。
  - 闭包的类型是动态的，可以根据上下文进行推断。

```rust
fn main() {
    let x = 1;
    let add_x = |y| y + x;
    let three = add_x(2);
    println!("The result is {}", three);
}
```
